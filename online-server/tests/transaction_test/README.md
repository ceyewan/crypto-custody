# 交易功能测试

本测试套件用于测试加密货币托管系统的交易功能，包括准备交易、签名并发送交易以及查询账户余额。

## 准备工作

在运行测试前，您需要进行以下准备工作：

1. 确保服务器已经启动并在 `http://localhost:8080` 上运行
2. 在 `common_test.go` 文件中设置以下测试参数：
   - `TestAccountA`: 发送方以太坊地址
   - `TestAccountB`: 接收方以太坊地址
   - `TestSignature`: 交易签名

## 测试内容

测试套件包含以下测试用例：

1. `TestGetBalance`: 测试查询以太坊账户余额
2. `TestEthTransfer`: 测试完整的转账流程，包括：
   - 登录警员账号
   - 准备交易
   - 签名并发送交易
   - 等待交易确认
   - 检查接收方余额

## 运行测试

在项目根目录下执行以下命令运行测试：

```bash
cd tests/transaction_test
go test -v
```

## 注意事项

- 测试会真实发送交易到区块链，请确保使用测试网络账户进行测试
- 交易需要经过区块链确认，因此测试会等待一段时间（约15秒）
- 警员账号需要预先在系统中创建，并拥有交易权限
